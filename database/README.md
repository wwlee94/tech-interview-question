# 데이터 베이스 ( Database )

### SQL vs NoSQL
#### SQL
RDBMS에 데이터를 저장, 수정, 삭제 및 검색 가능 (관계형 데이터베이스)
* RDBMS: 정해진 데이터 스키마에 따라 테이블 저장, 관계를 통해 여러 테이블에 분산됨
* 장점 & 단점
    * 장점
        * 명확한 스키마로 데이터 무결성 보장
        * 관계는 각 데이터를 중복 없이 한번만 저장
    * 단점 
    * 덜 유연함 (설계 이후 수정하기 힘듬) 
    * 데이터가 관계적으로 연결되어 있어 대체로 수직적 확장만 가능 (Ex: CPU 업그레이드)
* SQL 데이터베이스 사용이 더 좋은 경우 
    * 관계를 맺고 있는 데이터가 자주 변경될 경우 
    * 명확한 스키마가 사용자, 데이터에게 중요할 경우

#### NoSQL
RDBMS의 반대 개념 -> No 스키마, No 관계 -> But, RDB 처럼 관계 테이블을 별도로 만들 수는 있음 (users <- orders -> products)
* 문서(documents)는 Json과 비슷한 형태로 가지고 있다.   
* 관계형 데이터베이스처럼 여러 테이블에 나누어담지 않고, 관련 데이터를 동일한 '컬렉션'에 넣는다.   
(문서 == SQL의 레코드) , (컬렉션 == SQL 테이블)
* 장점 & 단점
    * 장점
        * 스키마가 없어서 유연함 (설계 이후 수정하기 쉬움)
        * 데이터는 애플리케이션이 필요로 하는 형식으로 저장됨(array 등)   
        * 데이터를 읽어오는 속도가 빨라짐 - 수직, 수평 확장 가능 (수평 확장: 서버를 늘리고 DB가 분산됨 -> 하나의 데이터베이스에서 작동하지만 여러 호스트에서 작동)
    * 단점 
        * 데이터 중복을 계속 업데이트 해야함   
        * 데이터가 여러 컬렉션에 중복되어 있기 때문에 수정시 모든 컬렉션에서 수정해야함 (users <- orders -> products)
* NoSQL 데이터베이스 사용이 더 좋은 경우 
    * 정확한 데이터 구조를 알 수 없거나 변경/확장 될 수 있는 경우
    * 읽기는 자주하고, 쓰기는 자주 없는 경우
    * DB를 수평 확장 해야하는 경우 ( 막대한 양의 데이터를 다뤄야하는 경우 )

### DB Index
* RDBMS에서 검색 속도를 높이기 위한 기술 Table의 Column을 색인화 한다. (따로 파일로 저장 -> B+ Tree 구조로)   
-> 해당 Table의 Record를 Full Scan 하지 않음   
-> 색인화 된 Index파일 검색으로 검색 속도 향상
* 단점 
- .mdb 파일의 크기 증가 -> DB 공간 차지
- 한 페이지를 동시에 수정 할 수 있는 병행성이 줄어듬
- 데이터 변경 작업이 자주 일어나는 경우, Index를 재 작성   
-> 성능에 영향 -> DML에 취약 -> ? b+트리의 밸런스 맞추려고 insert, delete 때는 추가적인 연산을 해서 느려짐   
-> ?index B+의 첫 노드부터 검색 (where 등등)   
-> ?select 같은 경우는 말단 노드가 linkedlist로 연결되어 있어서 그것만 확인하면되서 select는 빠른 것  
-> B+트리는 모든 데이터는 말단에 있으니

* 사용하면 좋은 경우
- Where 절에서 자주 사용되는 Column
- 외래키가 사용되는 Column
- Join에 자주 사용 되는 Column
